"use strict";(self.webpackChunkreact_design_pattern_with_medium_clap=self.webpackChunkreact_design_pattern_with_medium_clap||[]).push([[927],{2927:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var n=a(1582),r=a(890),o=a(6843),i=a(6122),d=a(9439),s=a(1413),l=a(5987),c=a(2791),p=a(6169),u=a(6151),h=a(3400),f=a(786),x=function(){var e=(0,c.useState)(!1),t=(0,d.Z)(e,2),a=t[0],n=t[1],r=(0,p.q_)({from:{opacity:a?0:1,transition:"ease"},to:[{opacity:a?1:0}],loop:a,config:{duration:1e3}}),o=(0,p.q_)((function(){return{}})),i=(0,d.Z)(o,2),s=i[0],l=i[1],u=(0,p.q_)((function(){return{}})),h=(0,d.Z)(u,2);return{boxShadowAnimation:r,clapAddedAnimation:s,clapAddedApi:l,streamersAnimation:h[0],streamersApi:h[1],setIsHover:n}},C=function(e){return e.Add="add",e.Reset="reset",e}({}),m=function(e,t){var a=e.addedClap,n=e.totalClap;switch(t.type){case C.Add:return{addedClap:a+1,totalClap:n+1};case C.Reset:return t.payload;default:return{addedClap:a,totalClap:n}}},Z=function(e){var t=e.initialAddedClap,a=void 0===t?0:t,n=e.initialTotalClap,r=void 0===n?200:n,o=e.customReducer,i=void 0===o?m:o,s=(0,c.useRef)({initialAddedClap:a,initialTotalClap:r}),l=(0,c.useRef)(0),p=(0,c.useReducer)(i,{addedClap:a,totalClap:r}),u=(0,d.Z)(p,2),h=u[0],f=u[1],x=(0,c.useCallback)((function(){s.current.initialAddedClap!==h.addedClap&&(f({type:C.Reset,payload:{addedClap:a,totalClap:r}}),l.current+=1)}),[h.addedClap,a,r]);return{clapValues:h,handleAddClap:function(){return f({type:C.Add})},resetClapCounts:x,resetDep:l.current}},y=a(5083),b=a(8146),v=a(184),j=["children","handleClick"],A=function(e){var t=e.children,a=e.handleClick,n=(0,l.Z)(e,j);return(0,v.jsx)(h.Z,(0,s.Z)((0,s.Z)({onClick:a,"aria-label":"thumb up",color:"primary",sx:{border:"1px solid",width:"60px",height:"60px",backgroundColor:"#ffffff"}},n),{},{children:t}))},g=function(){var e=(0,c.useState)(!1),t=(0,d.Z)(e,2),a=t[0],o=t[1],i=(0,c.useState)(0),l=(0,d.Z)(i,2),j=l[0],g=l[1],w=j>5,k=x(),_=k.clapAddedAnimation,R=k.boxShadowAnimation,S=k.streamersAnimation,q=k.setIsHover,T=k.clapAddedApi,I=k.streamersApi,D=Z({initialAddedClap:0,initialTotalClap:200,customReducer:function(e,t){var a=e.addedClap,n=e.totalClap;return t.type===C.Add&&w?{addedClap:a,totalClap:n}:m({addedClap:a,totalClap:n},t)}}),E=D.clapValues,H=D.handleAddClap,L=D.resetClapCounts,M=D.resetDep;return(0,c.useEffect)((function(){o(!0);var e=setTimeout((function(){o(!1)}),2e3);return function(){return clearTimeout(e)}}),[o,M]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(y.Z,{chipLabel:"State Initialiser \ud83c\udf82",children:[(0,v.jsx)(p.q.div,{style:(0,s.Z)({position:"relative",opacity:0},_),children:(0,v.jsx)(h.Z,{sx:{padding:"20px",backgroundColor:"#90caf9",width:"20px",height:"20px"},children:(0,v.jsx)(r.Z,{variant:"body2",children:"+".concat(E.addedClap)})})}),(0,v.jsx)(r.Z,{variant:"body2",color:"primary",sx:{position:"absolute",top:"6px"},children:E.totalClap}),(0,v.jsxs)(n.Z,{onMouseEnter:function(){return q(!0)},onMouseLeave:function(){return q(!1)},sx:{position:"absolute"},children:[(0,v.jsx)(p.q.div,{style:(0,s.Z)({borderRadius:"50%",width:"60px",height:" 60px",position:"absolute",boxShadow:"0px 0px 28px #90caf9"},R)}),(0,v.jsx)(p.q.div,{style:(0,s.Z)({opacity:0},S),children:(0,v.jsx)(b.Z,{})}),(0,v.jsx)(A,(0,s.Z)((0,s.Z)({handleClick:function(){E.addedClap<50&&(T.start({from:{opacity:2,transform:"translate(0px, 10px)",transition:"ease-in-out",transitionDelay:"2500"},to:{opacity:0,transform:"translate(0px, -100px)"},config:{duration:700}}),I.start({from:{opacity:10,transform:"scale(0)"},to:{opacity:0,transform:"scale(1)"}}),H(),g((function(e){return e+1})))}},{"aria-valuenow":E.totalClap,"aria-valuemax":50}),{},{children:(0,v.jsx)(f.Z,{})}))]})]}),w&&(0,v.jsx)(r.Z,{sx:{color:"red"},children:"You clapped too mush, do be so generous :D"}),a&&(0,v.jsxs)(r.Z,{children:["Is resetting ",M,"..."]}),(0,v.jsx)(u.Z,{onClick:L,sx:{display:"block",margin:"0 auto"},children:"Reset"})]})},w=function(){return(0,v.jsxs)(n.Z,{spacing:2,children:[(0,v.jsx)(r.Z,{variant:"h4",children:"State Reducer"}),(0,v.jsx)(r.Z,{variant:"body1",children:"The state-reducer pattern hinges on the concept that you can allow the user of your component or your hook to pass in a reducer and give them the control to update your internal state from the outside."}),(0,v.jsx)(r.Z,{variant:"body1",children:"We do not pass a value or a callback, we just pass a reducer. And we are going to pass that reducer a state and an action object, and they can go ahead and return new state."}),(0,v.jsx)(o.Z,{beforeComponent:(0,v.jsx)(i.Z,{}),beforeSourceCode:"https://github.com/12cassie34/react-design-pattern-with-medium-clap/tree/main/src/components/StateInitialiser",afterComponent:(0,v.jsx)(g,{}),afterSourceCode:"https://github.com/12cassie34/react-design-pattern-with-medium-clap/tree/main/src/components/StateReducer"})]})}}}]);
//# sourceMappingURL=927.22da7c32.chunk.js.map